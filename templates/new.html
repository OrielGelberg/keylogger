<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keylogger</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bungee+Shade&family=Inter:wght@700&family=Josefin+Sans:wght@200&family=Poppins:wght@100&family=Rubik+Iso&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/new.css">
</head>

<body>
    <!-- Loading Animation -->
    <div class="loading-page">
        <div id="svg-container">
            <svg id="animated-svg" width="170px" height="170px" viewBox="-6.4 -6.4 76.80 76.80"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                role="img" class="iconify iconify--emojione-monotone" preserveAspectRatio="xMidYMid meet" fill="none"
                stroke="#39ff14" stroke-width="1">
                <path
                    d="M32 2C15.432 2 2 15.432 2 32s13.432 30 30 30s30-13.432 30-30S48.568 2 32 2m6.016 44.508l-8.939-12.666l-2.922 2.961v9.705h-5.963V17.492h5.963v11.955l11.211-11.955h7.836L33.293 29.426l12.518 17.082h-7.795"
                    stroke-dasharray="2000" stroke-dashoffset="2000" />
            </svg>
        </div>
        <div class="name-container">
            <div class="logo-name rubik-iso-regular">KEYLOGGER</div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header Section -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="rubik-iso-regular app-title">KEYLOGGER</h1>
                <div id="animation" style="width: 50px;">
                    <img src="/static/svg/animation.svg" alt="">
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="nav-menu">
                <ul>
                    <li><a href="#" class="active" data-section="dashboard"><i class="fas fa-chart-line"></i>
                            Dashboard</a></li>
                    <li><a href="#" data-section="logs"><i class="fas fa-list"></i> Logs</a></li>
                    <li><a href="#" data-section="settings"><i class="fas fa-cog"></i> Settings</a></li>
                    <li><a href="#" data-section="about"><i class="fas fa-info-circle"></i> About</a></li>
                </ul>
            </nav>
        </header>

        <!-- App Container -->
        <div class="app-container">
            <!-- Main Dashboard -->
            <section id="dashboard" class="app-section active">
                <!-- Control Panel -->
                <div class="control-panel cyber-card cyber-border">
                    <!-- Search Bar -->
                    <div class="search-wrapper flex">
                        <div class="search-card">
                            <input id="inp" class="input-search" name="search" placeholder="Type your text" />
                            <i class="search-icon fas fa-search"></i>
                        </div>
                        <button id="btn" onclick="handleSearch()" class="cyber-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>

                    <!-- Quick Controls -->
                    <div class="quick-controls">
                        <button id="start" class="action-button cyber-button">
                            <i class="fas fa-play"></i> start
                        </button>
                        <button id="pause" class="action-button cyber-button">
                            <i class="fas fa-pause"></i> pause
                        </button>
                        <button id="export" class="action-button cyber-button">
                            <i class="fas fa-file-export"></i> export
                        </button>
                    </div>
                </div>

                <!-- Stats Panels -->
                <div class="stats-container flex">
                    <div class="cyber-card cyber-border stats-panel">
                        <div class="panel-header">
                            <i class="fas fa-keyboard stats-icon"></i>
                            <h2>Results</h2>
                        </div>
                        <div class="panel-content">
                            <h1 id="result">0</h1>
                            <p class="stat-label">Total Keystrokes</p>
                        </div>
                    </div>

                    <div class="cyber-card cyber-border stats-panel">
                        <div class="panel-header">
                            <i class="fas fa-user stats-icon"></i>
                            <h2>Tracking</h2>
                        </div>
                        <div class="panel-content">
                            <h1 id="Follo" class="Following">Yonatan</h1>
                            <p class="stat-label">Current User</p>
                        </div>
                    </div>

                    <div class="cyber-card cyber-border stats-panel">
                        <div class="panel-header">
                            <i class="fas fa-clock stats-icon"></i>
                            <h2>Active Time</h2>
                        </div>
                        <div class="panel-content">
                            <h1 id="active-time">00:00</h1>
                            <p class="stat-label">Time Elapsed</p>
                        </div>
                    </div>
                </div>

                <!-- Activity Monitor -->
                <div class="activity-monitor cyber-card cyber-border">
                    <h2><i class="fas fa-chart-bar"></i> Activity Monitor</h2>
                    <div class="activity-chart">
                        <!-- Placeholder for a chart visualization -->
                        <div class="chart-placeholder">
                            <div class="bar-chart">
                                <div class="bar" style="height: 40%"></div>
                                <div class="bar" style="height: 65%"></div>
                                <div class="bar" style="height: 85%"></div>
                                <div class="bar" style="height: 30%"></div>
                                <div class="bar" style="height: 50%"></div>
                                <div class="bar" style="height: 75%"></div>
                                <div class="bar" style="height: 25%"></div>
                                <div class="bar" style="height: 60%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Controls -->
                <div class="advanced-controls flex">
                    <form class="selection cyber-card cyber-border" action="" onsubmit="handleFormSubmit(event)">
                        <h2><i class="fas fa-filter"></i> Data Filters</h2>
                        <div class="form-controls flex">
                            <div class="form-group">
                                <label><i class="fas fa-desktop"></i> בחר מחשב:</label>
                                <select class="selection" id="computer"></select>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-calendar"></i> בחר תאריך:</label>
                                <input type="date" id="date">
                            </div>
                            <button type="submit" class="show-button" onclick="showModal()">
                                <i class="fas fa-database"></i> טען נתונים
                            </button>
                        </div>
                    </form>

                    <div class="start-control cyber-card cyber-border">
                        <h2><i class="fas fa-power-off"></i> Quick Start</h2>
                        <div id="stop-btn" class="flex center">
                            <button id="start-big" class="sircle-card flex center">
                                <h1 id="text-start-button">start</h1>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Logs Section (Hidden by default) -->
            <section id="logs" class="app-section">
                <div class="cyber-card cyber-border">
                    <h2><i class="fas fa-list"></i> Keystroke Logs</h2>
                    <div class="logs-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Key</th>
                                    <th>Application</th>
                                    <th>User</th>
                                </tr>
                            </thead>
                            <tbody id="logs-data">
                                <!-- Will be populated by JavaScript -->
                                <tr>
                                    <td colspan="4">No logs available yet. Start tracking to see data.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Settings Section (Hidden by default) -->
            <!-- <section id="settings" class="app-section">
        <div class="cyber-card cyber-border">
          <h2><i class="fas fa-cog"></i> Application Settings</h2>
          <div class="settings-options">
            <div class="setting-group">
              <h3>Tracking Options</h3>
              <div class="setting-control">
                <label for="auto-start">Auto Start on Launch</label>
                <input type="checkbox" id="auto-start" class="cyber-checkbox">
              </div>
              <div class="setting-control">
                <label for="tracking-interval">Tracking Interval (ms)</label>
                <input type="number" id="tracking-interval" class="cyber-input" value="100">
              </div>
            </div>
            <div class="setting-group">
              <h3>Appearance</h3>
              <div class="setting-control">
                <label for="theme-selector">Theme</label>
                <select id="theme-selector" class="selection">
                  <option value="cyber-green">Cyber Green</option>
                  <option value="cyber-blue">Cyber Blue</option>
                  <option value="cyber-red">Cyber Red</option>
                </select>
              </div>
            </div>
            <div class="setting-group">
              <h3>Notifications</h3>
              <div class="setting-control">
                <label for="enable-notifications">Enable Notifications</label>
                <input type="checkbox" id="enable-notifications" class="cyber-checkbox" checked>
              </div>
            </div>
            <button class="cyber-button save-settings">
              <i class="fas fa-save"></i> Save Settings
            </button>
          </div>
        </div>
      </section> -->

            <!-- About Section (Hidden by default) -->
            <section id="about" class="app-section">
                <div class="cyber-card cyber-border">
                    <h2><i class="fas fa-info-circle"></i> About Keylogger</h2>
                    <div class="about-content">
                        <p>Keylogger is a sophisticated tool designed for monitoring keyboard activity.</p>
                        <p>Version: 1.0.0 | Build: 2025.02.25</p>
                        <p>Created by: Yonatan</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Modal for Results -->
        <div id="result-data" class="block cyber-card cyber-border">
            <button class="close-button" onclick="hideModal()">×</button>
            <div class="content"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="/static/js/index.js"></script>

    <!-- Added JavaScript for section navigation -->
    <script>
        // Section navigation
        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-menu a');
            const sections = document.querySelectorAll('.app-section');

            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Remove active class from all links and sections
                    navLinks.forEach(l => l.classList.remove('active'));
                    sections.forEach(s => s.classList.remove('active'));

                    // Add active class to clicked link and corresponding section
                    this.classList.add('active');
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                });
            });

            // Initialize timer for active time display
            let seconds = 0;
            const activeTimeElement = document.getElementById('active-time');

            function updateTimer() {
                seconds++;
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                activeTimeElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            }

            // Only start timer when tracking begins
            document.getElementById('start').addEventListener('click', function () {
                // Check if timer is already running
                if (!this.classList.contains('active')) {
                    this.classList.add('active');
                    window.timerInterval = setInterval(updateTimer, 1000);
                }
            });

            document.getElementById('pause').addEventListener('click', function () {
                const startButton = document.getElementById('start');
                if (startButton.classList.contains('active')) {
                    startButton.classList.remove('active');
                    clearInterval(window.timerInterval);
                }
            });

            // Sync the big start button with the control panel start button
            document.getElementById('start-big').addEventListener('click', function () {
                document.getElementById('start').click();
            });
        });
    </script>
</body>

</html>